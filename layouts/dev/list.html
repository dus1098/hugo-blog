{{- define "main" -}}

  {{/* 
    ì´ íŒŒì¼ì€ /dev/ ì„¹ì…˜(ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€)ì—ë§Œ ì ìš©ë©ë‹ˆë‹¤.
    ê²½ë¡œ: layouts/dev/list.html
    
    Hugo í…œí”Œë¦¿ ë¬¸ë²•ì—ì„œ:
    - {{ }} : ê°’ì„ ì¶œë ¥í•˜ê±°ë‚˜ ë¡œì§ì„ ì‹¤í–‰
    - {{-  -}} : ì¢Œìš° ê³µë°±/ì¤„ë°”ê¿ˆì„ "ì •ë¦¬"í•´ì£¼ëŠ” ë¬¸ë²• (HTML ê³µë°±ì´ ì§€ì €ë¶„í•´ì§€ëŠ” ê±¸ ë°©ì§€)
  */}}
<main class="main">
  <header class="page-header">
    {{/* .Title ì€ í˜„ì¬ í˜ì´ì§€(/dev/)ì˜ ì œëª©, ì¦‰ content/dev/_index.mdì˜ title */}}
    <h1>{{ .Title }}</h1>

    {{/* with: ê°’ì´ ìˆì„ ë•Œë§Œ ë¸”ë¡ì„ ì‹¤í–‰. (ì—†ìœ¼ë©´ ì•„ë¬´ê²ƒë„ ì•ˆ í•¨) */}}
    {{- with .Content -}}
      <div class="post-content">{{ . }}</div>
    {{- end -}}
  </header>

  {{/* 
    í•µì‹¬ 1) .RegularPagesRecursive
    - í˜„ì¬ ì„¹ì…˜(/dev/) ì•„ë˜ì˜ "ëª¨ë“  ê¸€"ì„ ì¬ê·€ì ìœ¼ë¡œ ëª¨ì•„ì¤ë‹ˆë‹¤.
    - ì¦‰ /dev/csharp/*, /dev/hugo/* ê¸€ì„ ì „ë¶€ ê°€ì ¸ì˜µë‹ˆë‹¤.
  */}}
  {{- $pages := .RegularPagesRecursive -}}

  {{- if not $pages -}}
    <div class="post-content">ì•„ì§ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div>
  {{- else -}}

    {{- range $pages.ByDate.Reverse -}}
      {{- $category := "" -}}

      {{/* ğŸ”‘ í•µì‹¬: ì¡°ìƒ ì„¹ì…˜ì—ì„œ íŒë³„ */}}
      {{- range .Ancestors -}}
        {{- if eq .RelPermalink "/dev/csharp/" -}}
          {{- $category = "C#" -}}
        {{- else if eq .RelPermalink "/dev/hugo/" -}}
          {{- $category = "Hugo" -}}
        {{- end -}}
      {{- end -}}

      <article class="post-entry  post-entry-clickable">
        {{/* ì¹´ë“œ ì „ì²´ í´ë¦­ìš© ì˜¤ë²„ë ˆì´ ë§í¬ */}}
        <a class="entry-link" href="{{ .RelPermalink }}" aria-label="{{ .Title }}"></a>

        <header class="entry-header">
          {{/* .RelPermalink: ì‚¬ì´íŠ¸ ê¸°ì¤€ ìƒëŒ€ ë§í¬ (/dev/...) */}}
          <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        </header>

        {{/* ìš”ì•½ì´ ìˆìœ¼ë©´ ì¶œë ¥. (summary/front matterë‚˜ ë³¸ë¬¸ì—ì„œ ìë™ ìƒì„±) */}}
        {{- with .Summary -}}
          <div class="entry-content">
            <p>{{ . | plainify | htmlUnescape }}</p>
          </div>
        {{- end -}}

        
        <footer class="entry-footer">
            <span>{{ .Date.Format "2006-01-02" }}</span>
            {{- if $category -}}
            <span>Â·</span>

            {{/* ì¹´í…Œê³ ë¦¬ë³„ í´ë˜ìŠ¤(ì„ íƒ) */}}
            <span class="dev-badge {{ if eq $category "C#" }}badge-csharp{{ else if eq $category "Hugo" }}badge-hugo{{ end }}">
                {{ $category }}
            </span>
            {{- end -}}
        </footer>
      </article>
    {{- end -}}

  {{- end -}}
</main>
{{- end -}}
